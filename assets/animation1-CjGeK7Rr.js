var y=Object.defineProperty;var k=(e,n,t)=>n in e?y(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var l=(e,n,t)=>k(e,typeof n!="symbol"?n+"":n,t);import{c as P,f as w,a as X,e as a,g,r as b,b as N,R,A as I}from"./JSTools-DJ8q3-ns.js";class B extends P{constructor(t,s,d){super(t,s,10);l(this,"index");l(this,"color");l(this,"speed");l(this,"speedX");l(this,"speedY");l(this,"directionX");l(this,"directionY");l(this,"slope");this.index=d,this.color="blue",this.speed=2,this.speedX=w(-this.speed,this.speed,.1),this.speedY=Math.sqrt(Math.pow(this.speed,2)-Math.pow(this.speedX,2)),this.directionX=Math.sign(this.speedX),this.directionY=Math.sign(this.speedY),this.slope=this.speedY/this.speedX,w(0,1,1)===1&&(this.speedY*=-1)}setSpeed(t){this.speed=t,this.speedY!==0&&this.speedX!==0&&(this.slope=this.speedY/this.speedX),this.speedX=Math.cos(Math.atan(this.slope))*t,this.speedY=Math.sqrt(Math.pow(this.speed,2)-Math.pow(this.speedX,2)),this.speedX=Math.abs(this.speedX)*this.directionX,this.speedY=Math.abs(this.speedY)*this.directionY}goToRandomPos(t){this.goTo(Math.random()*(t.width-this.radius*2),Math.random()*(t.height-this.radius*2))}checkPos(t,s){if(this.x>s.width-this.radius&&(this.directionX=-1,this.speedX=Math.abs(this.speedX)*this.directionX),this.x<this.radius&&(this.directionX=1,this.speedX=Math.abs(this.speedX)*this.directionX),this.y>s.height-this.radius&&(this.directionY=-1,this.speedY=Math.abs(this.speedY)*this.directionY),this.y<this.radius&&(this.directionY=1,this.speedY=Math.abs(this.speedY)*this.directionY),t.length>1){for(let u=0;u<t.length;u++)if(this.index!==u){var d=X(t[u].x,t[u].y,this.x,this.y);if(d<t[u].radius+this.radius){var p=(t[u].y-this.y)/(t[u].x-this.x),c=this.speedY-p*this.speedX,f=-(1/p),v=0;this.speedX=(v-c)/(p-f)+((v-c)/(p-f)-this.speedX),this.speedY=p*((v-c)/(p-f))+c+(p*((v-c)/(p-f))+c-this.speedY),this.speedY!==0&&this.speedX!==0&&(this.slope=this.speedY/this.speedX),this.directionX=Math.sign(this.speedX),this.directionY=Math.sign(this.speedY)}}}}updatePos(t,s){for(let d=0;d<this.speed*10;d++)this.x+=this.speedX/(this.speed*10),this.y+=this.speedY/(this.speed*10),this.checkPos(t,s)}}function x(e){switch(e){case"en":document.cookie="language="+e+"; expires=Thu, 01 Jan 2040 00:00:00 UTC; path=/;",document.title="Animation 1",canvas.innerHTML="Your browser doesn't support the HTML5 canvas tag.",a("backToIndex").innerHTML="Back",a("reloadButton").innerHTML="Reload",a("speed").innerHTML="Speed: ",a("speedBox").title="Ball(s) speed.",a("randomPosition").innerHTML="Randomize Position",a("randomSpeed").innerHTML="Randomize Speed",a("balls").innerHTML="Balls: ",a("ballsBox").title="Number of balls in the animation.";break;default:document.cookie="language=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.removeItem("language"),document.title="Animação 1",canvas.innerHTML="O teu browser não suporta a tag canvas do HTML5.",a("backToIndex").innerHTML="Voltar",a("reloadButton").innerHTML="Recarregar",a("speed").innerHTML="Velocidade: ",a("speedBox").title="Velocidade da(s) bola(s).",a("randomPosition").innerHTML="Aleatorizar Posição",a("randomSpeed").innerHTML="Aleatorizar Velocidade",a("balls").innerHTML="Bolas: ",a("ballsBox").title="Número de bolas na animação.";break}}var Y=a("dropdownLanguage");g("language")!=null&&g("language")!=""?Y.value=g("language"):Y.value="pt";const T=a("canvas");if(T==null)throw new Error("Canvas is null.");window.globals.canvas=T;var h=a("speedBox"),O=a("randomPosition"),S=a("randomSpeed"),o=a("ballsBox");const L=window.globals.toolBarHeight;document.body.onresize=b;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{b(),x(g("language"))}):(b(),x(g("language")));o.value=String(1);a("toolBar").style.height=L+"px";T.style.top=L+"px";x(g("language"));a("backToIndex").onclick=N;a("reloadButton").onclick=()=>location.reload(!0);Y.onchange=()=>x(Y.value);var r=new R(50,50,840,483);r.outlineWidth=2;r.outlinePosition="center";r.doTranslate=!0;const H=window.globals.canvas;H.width=r.x*2+r.width;H.height=r.y*2+r.height;var i=[];window.globals.numberOfBalls=o.value;for(let e=0;e<window.globals.numberOfBalls;e++)i[e]=new B(0,0,e);for(let e=0;e<i.length;e++)i[e].goToRandomPos(r);m(i[0].speed);b();I(function(){r.draw();for(let e=0;e<i.length;e++)i[e].draw(),i[e].updatePos(i,r)});function m(e){e>Number(h.max)&&(e=Number(h.max)),e<Number(h.min)&&(e=Number(h.min)),e=Math.floor(e*10)/10,h.value=String(e);for(let n=0;n<i.length;n++)i[n].setSpeed(e)}let M;h.oninput=function(){m(+h.value)};O.onclick=function(){for(let t=0;t<i.length;t++){i[t].goToRandomPos(r);var e=!1;for(let s=0;s<i.length;s++)if(t!==s)try{var n=X(i[s].x,i[s].y,i[t].x,i[t].y);n<i[s].radius+i[t].radius+10&&(e=!0)}catch(d){throw console.log("ball[i]:"+i[t]),console.log("i:"+t),console.log("ball.length:"+i.length),d+"MYERROR"}e&&t--}};S.onclick=function(){var e=Math.random()*Number(h.max);m(e)};o.oninput=function(){parseInt(o.value)>parseInt(o.max)&&(o.value=o.max),(parseInt(o.value)<parseInt(o.min)||o.value==="")&&(o.value=o.min),o.value=String(Math.floor(Number(o.value)));var e=1e3/Number(o.value);if(M=i.length,Number(o.value)<i.length)for(let s=0;s<M-Number(o.value);s++)i.pop();else{window.globals.numberOfBalls=Number(o.value);for(let s=M;s<window.globals.numberOfBalls;s++)i[s]=new B(0,0,s);for(let s=M;s<i.length;s++){i[s].goToRandomPos(r);var n=!1;for(let d=0;d<i.length;d++)if(s!==d){var t=X(i[d].x,i[d].y,i[s].x,i[s].y);t<i[d].radius+i[s].radius+10&&(n=!0)}n&&s--}}m(i[0].speed),h.max=String(e),Number(h.value)>e&&m(e)};
//# sourceMappingURL=animation1-CjGeK7Rr.js.map
