{"version":3,"file":"monopoly-6IKkQxY8.js","sources":["../../src/languages/Monopoly.ts","../../src/Monopoly/Initialization.ts","../../src/Monopoly/Events.ts","../../src/Monopoly/Classes.ts","../../src/Monopoly/Main.ts"],"sourcesContent":["import { element } from \"../JSTools\";\n\nfunction setLanguage(language: \"en\" | \"pt\") {\n  const canvas = (window as any).globals.canvas;\n  \n  switch (language) {\n  case \"en\":\n    document.cookie = \"language=\" + language + \"; expires=Thu, 01 Jan 2040 00:00:00 UTC; path=/;\";\n    document.title = \"Monopoly\";\n    canvas.innerHTML = \"Your browser doesn't support the HTML5 canvas tag.\";\n    element(\"backToIndex\")!.innerHTML = \"Back\";\n    element(\"reloadButton\")!.innerHTML = \"Reload\";\n    break;\n  default:\n    document.cookie = \"language=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n    localStorage.removeItem(\"language\");\n    document.title = \"MonopÃ³lio\";\n    canvas.innerHTML = \"O teu browser nÃ£o suporta a tag canvas do HTML5.\";\n    element(\"backToIndex\")!.innerHTML = \"Voltar\";\n    element(\"reloadButton\")!.innerHTML = \"Recarregar\";\n    break;\n  }\n}\n\nexport { setLanguage };","import { Place } from \"./Classes\";\nimport { element, resizeCanvas, getCookie, backToIndex } from \"../JSTools\";\nimport { setLanguage } from \"../languages/Monopoly\";\nimport '../globals';\n\n// <select> ONLOAD=\nvar dropdownLanguage = element('dropdownLanguage') as HTMLSelectElement;\nif (getCookie('language') != undefined && getCookie('language') != '') {\n  dropdownLanguage.value = getCookie('language');\n} else {\n  dropdownLanguage.value = 'pt';\n}\n\nconst canvas = element(\"canvas\") as HTMLCanvasElement;\nif (canvas == null) {\n  throw new Error(\"Canvas is null.\");\n}\n(window as any).globals.canvas = canvas;\n\ndocument.body.onresize = resizeCanvas;\nif (document.readyState === \"loading\") {\n  // Loading hasn't finished yet\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    resizeCanvas();\n    setLanguage(getCookie(\"language\") as \"pt\" | \"en\");\n  });\n} else {\n  // `DOMContentLoaded` has already fired\n  resizeCanvas();\n  setLanguage(getCookie(\"language\") as \"pt\" | \"en\");\n}\n\n//toolBar\nelement(\"backToIndex\")!.onclick = backToIndex;\nelement('reloadButton')!.onclick = () =>\n  (location.reload as (forceGet: boolean) => void)(true);\ndropdownLanguage.onchange = () => setLanguage(dropdownLanguage.value as \"pt\" | \"en\");\n\nconst ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\nif (ctx == null) {\n  throw new Error(\"Canvas context is null.\");\n}\nconst canvasPadding = 10;\nresizeCanvas();\n\nexport { canvasPadding };\n\n","import { setMouseProvider } from \"../JSTools\";\n\nconst canvas = (window as any).globals.canvas as HTMLCanvasElement;\n\nlet mouseX: number, mouseY: number, mouseIsDown: boolean;\ndocument.body.onmousemove = function (event) {\n  // Compute mouse coordinates in canvas drawing coordinate space.\n  // Use getBoundingClientRect to account for page layout and CSS scaling.\n  const rect = canvas.getBoundingClientRect();\n  const x = event.clientX - rect.left;\n  const y = event.clientY - rect.top;\n  // Scale from CSS pixels to canvas pixels (handles HiDPI and CSS sizing).\n  mouseX = x * (canvas.width / rect.width);\n  mouseY = y * (canvas.height / rect.height);\n};\ndocument.body.onmousedown = function () {\n  mouseIsDown = true;\n};\ndocument.body.onmouseup = function () {\n  mouseIsDown = false;\n};\n\n\nsetMouseProvider(() => ({ x: mouseX, y: mouseY, isDown: mouseIsDown }));\n","import { Control, Rectangle } from \"../JSTools\";\n\nconst canvas = (window as any).globals.canvas as HTMLCanvasElement;\nconst ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n\nclass Place extends Rectangle {\n  type: string;\n  price: number;\n  constructor(x: number, y: number, width: number, height: number, type: string) {\n    super(x, y, width, height); //Inherit from Rectangle\n    this.type = type;\n    this.price = 20;\n  }\n}\n\nclass Board extends Control {\n  width: number;\n  height: number;\n  places: Place[];\n  constructor(x: number, y: number) {\n    super(x, y);\n    this.width = 980;\n    this.height = 980;\n    this.places = [];\n    \n    // Width of the board path\n    var pathWidth = 195*canvas.height/1000;\n    // Width of normal places\n    var normalPlacesWidth = (this.width-pathWidth*2)/5;\n\n    for (let i = 0; i < 24; i++) { //Creating and Moving Places\n      switch (true) { //Places are 100x195\n      //Corner Places\n      case (i==0):\n        this.places[i] = new Place(this.width - pathWidth, this.height - pathWidth, pathWidth, pathWidth, \"start\");\n        this.places[i].color = \"#FF793F\";\n        break;\n      case (i==6):\n        this.places[i] = new Place(0, this.height - pathWidth, pathWidth, pathWidth, \"prison_visit\");\n        this.places[i].color = \"#FF793F\";\n        break;\n      case (i==12):\n        this.places[i] = new Place(0, 0, pathWidth, pathWidth, \"free_parking\");\n        this.places[i].color = \"#FF793F\";\n        break;\n      case (i==18):\n        this.places[i] = new Place(this.width - pathWidth, 0, pathWidth, pathWidth, \"police\");\n        this.places[i].color = \"#FF793F\";\n        break;\n      //Normal Places\n      case (i>=1&&i<=5):\n        this.places[i] = new Place(this.width - pathWidth-normalPlacesWidth*(i%6), this.height - pathWidth, normalPlacesWidth, pathWidth, \"normalA\"+(i%6));\n        this.places[i].color = \"#95CCF9\";\n        break;\n      case (i>=7&&i<=11):\n        this.places[i] = new Place(0, this.height - pathWidth-normalPlacesWidth*(i%6), pathWidth, normalPlacesWidth, \"normalB\"+(i%6));\n        this.places[i].color = \"#95CCF9\";\n        break;\n      case (i>=13&&i<=17):\n        this.places[i] = new Place(pathWidth+normalPlacesWidth*((i%6)-1), 0, normalPlacesWidth, pathWidth, \"normalC\"+(i%6));\n        this.places[i].color = \"#95CCF9\";\n        break;\n      case (i>=19&&i<=23):\n        this.places[i] = new Place(this.width - pathWidth, pathWidth+normalPlacesWidth*((i%6)-1), pathWidth, normalPlacesWidth, \"normalD\"+(i%6));\n        this.places[i].color = \"#95CCF9\";\n        break;\n      }\n      this.places[i].showIndex = 50;\n      this.places[i].outlinePosition = \"center\";\n    }\n  }\n  \n  draw(): void {\n    ctx.save();\n    ctx.translate(this.x, this.y);\n    for (let i = 0; i < this.places.length; i++) {\n      this.places[i].draw();\n    }\n    ctx.restore();\n  }\n}\n\nexport { Place, Board };","import { canvasPadding } from './Initialization';\nimport { Board } from './Classes';\nimport { AnimationLOOP, GameState, JSWindow, Label, TextButton } from '../JSTools';\n\nconst canvas = (window as any).globals.canvas;\n\nconst game = new GameState();\ngame.x = canvasPadding;\ngame.y = canvasPadding;\ngame.width = canvas.width - canvasPadding * 2;\ngame.height = canvas.height - canvasPadding * 2;\ngame.color = \"#B0B3B7\";\ngame.outlinePosition = \"outer\";\ngame.showIndex = 1;\ngame.visible = true;\n\nconst startWindow = new JSWindow(1300, 900);\ngame.container.startWindow = startWindow;\nstartWindow.color = \"#263599\";\nstartWindow.showIndex = 100;\nstartWindow.show();\n\n(window as any).globals.startWindow = startWindow;\n\nstartWindow.container.closeButton = new TextButton(startWindow.width-20, 20, \"X\", \"center\", 20, 5);\nstartWindow.container.closeButton.updateLanguage = function() {this.text=\"X\"};\nstartWindow.container.closeButton.onclick = () => {\n  startWindow.hide();\n}\n\nstartWindow.container.welcomeText = new Label(650, 450, \"Welcome! ðŸ˜€\", \"center\");\nstartWindow.container.welcomeText.updateLanguage = function(){this.text=\"Bem vindo(a)\\nao MonopÃ³lio!\"};\n\n\ngame.container.board = new Board(0, 0);\nAnimationLOOP(function(){\n  game.draw();\n});"],"names":["setLanguage","language","canvas","element","dropdownLanguage","getCookie","resizeCanvas","backToIndex","ctx","canvasPadding","mouseX","mouseY","mouseIsDown","event","rect","x","y","setMouseProvider","Place","Rectangle","width","height","type","__publicField","Board","Control","pathWidth","normalPlacesWidth","i","game","GameState","startWindow","JSWindow","TextButton","Label","AnimationLOOP"],"mappings":"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"}