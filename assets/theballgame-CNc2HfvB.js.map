{"version":3,"file":"theballgame-CNc2HfvB.js","sources":["../../src/TheBallGame/Initialization.ts","../../src/TheBallGame/Events.ts","../../resources/languages/The Ball Game.ts","../../src/TheBallGame/Classes.ts","../../src/TheBallGame/Main.ts"],"sourcesContent":["import { element, resizeCanvas, getCookie, backToIndex, download } from \"../JSTools\";\nimport { setLanguage } from \"../../resources/languages/Monopoly\";\nimport '../globals';\n\n// <select> \"ONLOAD\"=\nvar dropdownLanguage = element('dropdownLanguage') as HTMLSelectElement;\nif (getCookie('language') != undefined && getCookie('language') != '') {\n  dropdownLanguage.value = getCookie('language');\n} else {\n  dropdownLanguage.value = 'pt';\n}\n\nconst canvas = element(\"canvas\") as HTMLCanvasElement;\nif (canvas == null) {\n  throw new Error(\"Canvas is null.\");\n}\n\ndocument.body.onresize = resizeCanvas;\nif (document.readyState === \"loading\") {\n  // Loading hasn't finished yet\n  document.addEventListener(\"DOMContentLoaded\", resizeCanvas);\n} else {\n  // `DOMContentLoaded` has already fired\n  resizeCanvas();\n}\n\n//toolBar\nelement(\"backToIndex\")!.onclick = backToIndex;\nelement('reloadButton')!.onclick = () =>\n  (location.reload as (forceGet: boolean) => void)(true);\nelement('downloadGame')!.onclick = () =>\n  download('https://www.dropbox.com/s/0stlwtfyvryq57w/Jogo%20da%20Bolinha.rar?dl=1');\ndropdownLanguage.onchange = () => setLanguage(dropdownLanguage.value as \"pt\" | \"en\");\n\n//Creating variables for the elements...\nvar background = element(\"background\")!;\n//Setting values...\nconst ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\nif (ctx == null) {\n  throw new Error(\"Canvas context is null.\");\n}\nconst toolBar = element(\"toolBar\");\nif (toolBar) toolBar.style.height = (window as any).globals.toolBarHeight + \"px\";\ncanvas.style.top = (window as any).globals.toolBarHeight + \"px\";\nbackground.style.width = innerWidth + \"px\";\nbackground.style.height = innerHeight + \"px\";\nctx.lineJoin = \"round\";\n//Loading Audio...\nvar click = new Audio(\"resources/Click.wav\");\nvar bellRing = new Audio(\"resources/BellRing.wav\");\n//Resizing Canvas...\nresizeCanvas();\n\nexport { canvas, ctx as c, click, bellRing, background };","import { resizeCanvas } from \"../JSTools\";\nimport { background, canvas } from \"./Initialization\";\n\nvar lastKey;\nvar upIsDown = false;\nvar leftIsDown = false;\nvar rightIsDown = false;\nvar downIsDown = false;\ndocument.body.onkeydown = function (event) {\n  lastKey = event.which || event.keyCode || event.code;\n  if (lastKey === 38 || lastKey === 87) {\n    upIsDown = true;\n  }\n  if (lastKey === 37 || lastKey === 65) {\n    leftIsDown = true;\n  }\n  if (lastKey === 39 || lastKey === 68) {\n    rightIsDown = true;\n  }\n  if (lastKey === 40 || lastKey === 83) {\n    downIsDown = true;\n  }\n};\ndocument.body.onkeyup = function (event) {\n  lastKey = event.which || event.keyCode || event.code;\n  if (lastKey === 38 || lastKey === 87) {\n    upIsDown = false;\n  }\n  if (lastKey === 37 || lastKey === 65) {\n    leftIsDown = false;\n  }\n  if (lastKey === 39 || lastKey === 68) {\n    rightIsDown = false;\n  }\n  if (lastKey === 40 || lastKey === 83) {\n    downIsDown = false;\n  }      \n};\nvar mouseX: number, mouseY: number, mouseIsDown: boolean;\ndocument.body.onmousemove = function (event) {\n  mouseX = (event.clientX - Number(canvas.style.left.replace(\"px\", \"\")) - game.x * (window as any).globals.canvasScale) / (window as any).globals.canvasScale;\n  mouseY = (event.clientY - Number(canvas.style.top.replace(\"px\", \"\")) - game.y * (window as any).globals.canvasScale) / (window as any).globals.canvasScale;\n};\ndocument.body.onmousedown = function () {\n  mouseIsDown = true;\n};\ndocument.body.onmouseup = function () {\n  mouseIsDown = false;\n};\ndocument.body.onresize = onresize;\nfunction onresize() {\n  resizeCanvas();\n  background.style.width = innerWidth + \"px\";\n  background.style.height = innerHeight + \"px\";\n}\n\nexport { mouseX, mouseY, mouseIsDown };\n","import { element } from \"../../src/JSTools\";\nimport { canvas } from \"../../src/TheBallGame/Initialization\";\n\nlet livesText_lang: string,\n  scoreText_lang: string,\n  playGameOption_lang: string,\n  optionsOption_lang: string,\n  downloadOption_lang: string,\n  optionsSoon_lang: string,\n  backToMenu_lang: string,\n  exitOptionsButton_lang: string;\nfunction setLanguage(language: \"en\" | \"pt\") {\n  switch (language) {\n  case \"en\":\n    document.cookie = \"language=\" + language + \"; expires=Thu, 01 Jan 2040 00:00:00 UTC; path=/;\";\n    document.title = \"The Ball Game\";\n    canvas.innerHTML = \"Your browser doesn't support the HTML5 canvas tag.\";\n    element(\"backToIndex\")!.innerHTML = \"Back\";\n    element(\"reloadButton\")!.innerHTML = \"Reload\";\n    element(\"downloadGame\")!.innerHTML = \"Download Game (Portuguese only)\";\n    livesText_lang = \"Lives\";\n    scoreText_lang = \"Score\";\n    playGameOption_lang = \"Play\";\n    optionsOption_lang = \"Options\";\n    downloadOption_lang = \"Download\";\n    optionsSoon_lang = \"Soon\";\n    backToMenu_lang = \"Exit\";\n    exitOptionsButton_lang = \"Back to Main Menu\";\n    break;\n  default:\n    localStorage.removeItem(\"language\");\n    document.cookie = \"language=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n    document.title = \"Jogo da Bolinha\";\n    canvas.innerHTML = \"O teu browser não suporta a tag canvas do HTML5.\";\n    element(\"backToIndex\")!.innerHTML = \"Voltar\";\n    element(\"reloadButton\")!.innerHTML = \"Recarregar\";\n    element(\"downloadGame\")!.innerHTML = \"Descarregar Jogo\";\n    livesText_lang = \"Vidas\";\n    scoreText_lang = \"Pontuação\";\n    playGameOption_lang = \"Jogar\";\n    optionsOption_lang = \"Opções\";\n    downloadOption_lang = \"Descarregar\";\n    optionsSoon_lang = \"Brevemente\";\n    backToMenu_lang = \"Sair\";\n    exitOptionsButton_lang = \"Voltar para o Menu Principal\";\n    break;\n  }\n}\n\nexport {\n  setLanguage,\n  livesText_lang,\n  scoreText_lang,\n  playGameOption_lang,\n  optionsOption_lang,\n  downloadOption_lang,\n  optionsSoon_lang,\n  backToMenu_lang,\n  exitOptionsButton_lang,\n};","import { livesText_lang, scoreText_lang } from \"../../resources/languages/The Ball Game\";\nimport { Label, transparent } from \"../JSTools\";\nimport { mouseIsDown, mouseX, mouseY } from \"./Events\";\nimport { c } from \"./Initialization\";\n\nclass TextButton extends Label {\n  hoveringHeightIncrement: number;\n  onclick: undefined | (() => void);\n  \n  internal_hovered: boolean;\n  internal_waitingForRelease: boolean;\n  internal_mouseEnter: boolean;\n  internal_mouseLeave: boolean;\n  constructor(x: number, y: number, text: string, xAlign: \"start\" | \"center\", textHeight: number, hoveringHeightIncrement: number) {\n    super(x, y, text, xAlign);\n    this.outlineWidth = 8;\n    this.textHeight = textHeight;\n    this.hoveringHeightIncrement = hoveringHeightIncrement;\n    this.onclick; //Função que define aquilo que vai acontecer ao clicar no botão. Será definida mais tarde, com um objeto mais específico.\n    //Variáveis internas que não deverão ser alteradas, pois não têm a ver com personalização:\n    this.internal_hovered = false; //Esta variável diz se o cursor em cima do botão.\n    this.internal_waitingForRelease = false;\n    this.internal_mouseEnter = false; //Esta só serve para o tamanho apenas aumentar uma vez quando o rato entrar no objeto.\n    this.internal_mouseLeave = true; //Para o tamanho apenas diminuir uma vez quando o rato sair do objeto.\n  }\n  \n  onhover() { /*collapseit*/\n    let hovering1, hovering2, hovering3, hovering4;\n    if (this.xAlign == \"center\") { //Para sincronizar o hovering com os align, e para verificar se há hovering.\n      hovering1 = mouseX > this.x - c.measureText(this.text).width / 2 - this.hoveringHeightIncrement;\n      hovering2 = mouseX < this.x + c.measureText(this.text).width / 2 + this.hoveringHeightIncrement;\n      hovering3 = mouseY > this.y - this.textHeight / 2 - this.hoveringHeightIncrement;\n      hovering4 = mouseY < this.y + this.textHeight / 2 + this.hoveringHeightIncrement;\n    } else if (this.xAlign == \"start\") {\n      hovering1 = mouseX > this.x - this.hoveringHeightIncrement;\n      hovering2 = mouseX < this.x + c.measureText(this.text).width + this.hoveringHeightIncrement;\n      hovering3 = mouseY > this.y - this.textHeight / 2 - this.hoveringHeightIncrement;\n      hovering4 = mouseY < this.y + this.textHeight / 2 + this.hoveringHeightIncrement;\n    } else {\n      console.error(\"Invalid xAlign value on TextButton.\");\n    }\n    this.internal_hovered = hovering1! && hovering2! && hovering3! && hovering4!;\n    if (this.internal_hovered) {\n      if (!this.internal_mouseEnter) {\n        this.internal_mouseEnter = true;\n        this.textHeight += this.hoveringHeightIncrement;\n      }\n      this.internal_mouseLeave = false;\n      this.outlineColor = \"black\";\n    } else {\n      if (!this.internal_mouseLeave) {\n        this.internal_mouseLeave = true;\n        this.textHeight -= this.hoveringHeightIncrement;\n      }\n      this.internal_mouseEnter = false;\n      this.internal_waitingForRelease = false;\n      this.outlineColor = transparent;\n    }\n  };\n  \n  onClickEvent () { /*collapseit*/\n    if (this.internal_hovered) {\n      if (mouseIsDown) { //Se isto for verdade, ou seja está-se clicando em cima do botão, só falta largar para a...\n        this.internal_waitingForRelease = true; //...condição seguinte ser executada.\n      }\n      if (!mouseIsDown && this.internal_waitingForRelease) { //É isto que fica à espera de Release.\n        this.onclick && this.onclick();\n        this.internal_waitingForRelease = false;\n      }\n    }\n  };\n  \n  updateLanguage (){ /*collapseit*/\n    this.text = \"<!ERROR!>\";\n  };\n  \n  update () { /*collapseit*/\n    this.updateContext();\n    this.onhover();\n    this.onClickEvent();\n    this.updateLanguage();\n  };\n}\n\nclass PlayerInfo extends Label {/*collapseit*/\n  type: \"lives\" | \"score\";\n  count: number;\n  constructor(x: number, y: number, type: \"lives\" | \"score\", xAlign: \"start\" | \"center\", startCount: number) {\n    super(x, y, \"\", xAlign);\n    this.type = type;\n    this.count = startCount;\n    switch (this.type.toLowerCase()) {\n    case \"lives\":\n      this.text = livesText_lang;\n      break;\n    case \"score\":\n      this.text = scoreText_lang;\n      break;\n    }\n  }\n}\n\nclass Ball extends Circle {\n  speedX = 0;\n  speedY = 0;\n  color = \"#0000FF\";\n  walkSpeed = 2;\n  jumpSpeed = 20;\n  side: \"left\" | \"right\" = \"left\";\n  touchingLava = false;\n  delaying = false;\n  delayed = 0;\n  finalDelayTime = 0;\n  lives: PlayerInfo;\n  score: PlayerInfo;\n  initX: number;\n  initY: number;\n  visible = true;\n\n  constructor(x: number, y: number) {\n    super(x, y, 15);\n    this.initX = x;\n    this.initY = y;\n    this.lives = new PlayerInfo(10, 40, \"lives\", \"start\", 5);\n    this.score = new PlayerInfo(10, 80, \"score\", \"start\", 0);\n  }\n\n  drawText() {\n    this.lives.text = livesText_lang + \" = \" + this.lives.count;\n    this.lives.updateContext();\n    this.lives.draw();\n    this.score.text = scoreText_lang + \" = \" + this.score.count;\n    this.score.updateContext();\n    this.score.draw();\n  }\n\n  updateX() {\n    if (!this.delaying) {\n      this.speedX *= 0.7;\n      if (leftIsDown && this.x > this.radius) this.speedX -= this.walkSpeed;\n      if (rightIsDown && this.x < game.width - this.radius) this.speedX += this.walkSpeed;\n      this.x += this.speedX;\n\n      if (this.x < this.radius) {\n        if (this.speedX < 0) click.play();\n        this.speedX = 0;\n        this.x = this.radius;\n      }\n      if (this.x > game.width - this.radius) {\n        if (this.speedX > 0) click.play();\n        this.speedX = 0;\n        this.x = game.width - this.radius;\n      }\n    }\n  }\n\n  updateY() {\n    if (!this.delaying) {\n      if (this.speedY === 1 && this.y > game.height - this.radius - 1 && upIsDown) {\n        this.speedY = -this.jumpSpeed;\n      }\n      if (downIsDown) this.speedY += 1;\n      this.y += this.speedY;\n\n      if (this.y > game.height - this.radius) {\n        if (this.speedY > 10) click.play();\n        this.speedY = 0;\n        this.y = game.height - this.radius;\n      }\n      this.speedY++;\n\n      if (this.y < this.radius) {\n        if (this.speedY < -10) click.play();\n        this.speedY = 0;\n        this.y = this.radius;\n      }\n    }\n  }\n\n  checkPos() {\n    if (!this.delaying) {\n      const lava = game.container.lava;\n\n      if (this.y > lava.y - this.radius && this.x > lava.x - this.radius + 5 && this.x < lava.x + lava.width + 5) {\n        this.speedX = 0;\n        this.speedY = 0;\n        this.y = lava.y - this.radius;\n        this.touchingLava = true;\n      }\n      if (this.x > lava.x - this.radius && this.y > lava.y - this.radius && this.x < lava.x + lava.width / 2) {\n        this.speedX = 0;\n        this.x = lava.x - this.radius;\n        this.touchingLava = true;\n      }\n      if (this.x > lava.x + lava.width / 2 && this.y > lava.y - this.radius && this.x < lava.x + lava.width + this.radius) {\n        this.speedX = 0;\n        this.x = lava.x + lava.width + this.radius;\n        this.touchingLava = true;\n      }\n\n      if (this.touchingLava || this.delayed > 0) {\n        this.touchingLava = false;\n\n        if (this.delayed === 0) this.delay(100);\n        if (!this.delaying && this.delayed === 1) {\n          bellRing.play();\n          this.delay(650);\n        }\n        if (!this.delaying && this.delayed === 2) {\n          this.lives.count--;\n          this.delay(650);\n        }\n        if (!this.delaying && this.delayed >= 2) {\n          this.side = \"left\";\n          this.x = 100 + this.radius;\n          this.y = game.height / 2 + this.radius;\n          this.speedX = 0;\n          this.speedY = 5;\n          this.delayed = 0;\n          if (this.lives.count <= 0) {\n            alert(`Perdeste com ${this.score.count} Ponto${this.score.count === 1 ? \"\" : \"s\"}!!`);\n            this.score.count = 0;\n            this.lives.count = 5;\n            upIsDown = rightIsDown = leftIsDown = false;\n          }\n        }\n      }\n\n      if (this.side === \"left\" && this.x > game.width / 2 && this.y > game.height - this.radius - 2) {\n        this.side = \"right\";\n        this.score.count++;\n      }\n      if (this.side === \"right\" && this.x < game.width / 2 && this.y > game.height - this.radius - 2) {\n        this.side = \"left\";\n        this.score.count++;\n      }\n    }\n  }\n\n  updatePos() {\n    this.updateX();\n    this.updateY();\n  }\n\n  delay(ms: number) {\n    this.finalDelayTime = Date.now() + ms;\n    this.delaying = true;\n    this.delayed++;\n  }\n\n  delayStop() {\n    if (this.delaying && Date.now() > this.finalDelayTime) {\n      this.delaying = false;\n      this.finalDelayTime = 0;\n    }\n  }\n\n  restart() {\n    this.x = this.initX;\n    this.y = this.initY;\n    this.walkSpeed = 2;\n    this.jumpSpeed = 20;\n    this.lives.count = 5;\n    this.score.count = 0;\n    this.side = \"left\";\n    this.touchingLava = false;\n    this.delaying = false;\n    this.delayed = 0;\n    this.finalDelayTime = 0;\n    this.speedX = 0;\n    this.speedY = 0;\n    this.visible = true;\n  }\n}\n\n\n// function Ball(x, y) { /*collapseit*/\n//   Circle.call(this, x, y, 15);\n//   this.speedX = 0;\n//   this.speedY = 0;\n//   this.color = \"#0000FF\";\n//   this.walkSpeed = 2;\n//   this.jumpSpeed = 20;\n//   this.side = \"left\";\n//   this.touchingLava = false;\n//   this.delaying = false;\n//   this.delayed = 0;\n//   this.finalDelayTime = 0;\n//   this.lives = new PlayerInfo(10, 40, \"lives\", \"start\", 5);\n//   this.score = new PlayerInfo(10, 80, \"score\", \"start\", 0);\n// }\n// Ball.prototype = Object.create(Circle.prototype);\n// Ball.prototype.constructor = Ball;\n// Ball.prototype.drawText = function () { /*collapseit*/\n//   this.lives.text = livesText_lang + \" = \" + this.lives.count;\n//   this.lives.updateContext();\n//   this.lives.draw();\n//   this.score.text = scoreText_lang + \" = \" + this.score.count;\n//   this.score.updateContext();\n//   this.score.draw();\n// };\n// Ball.prototype.updateX = function () { /*collapseit*/\n//   if (!this.delaying) {\n//     this.speedX = this.speedX * 0.7;\n//     if (leftIsDown && this.x > this.radius) {\n//       this.speedX = this.speedX - this.walkSpeed;\n//     }\n//     if (rightIsDown && this.x < game.width - this.radius) {\n//       this.speedX = this.speedX + this.walkSpeed;\n//     }\n//     this.x = this.x + this.speedX;\n//     //console.log(this.speedX);\n//     if (this.x < this.radius) {\n//       if (this.speedX < 0) {\n//         click.play();\n//       }\n//       this.speedX = 0;\n//       this.x = this.radius;\n//     }\n//     if (this.x > game.width - this.radius) {\n//       if (this.speedX > 0) {\n//         click.play();\n//       }\n//       this.speedX = 0;\n//       this.x = game.width - this.radius;\n//     }\n//   }\n// };\n// Ball.prototype.updateY = function () { /*collapseit*/\n//   if (!this.delaying) {\n//     if (this.speedY === 1 && this.y > game.height - this.radius - 1 && upIsDown) {\n//       this.speedY = -this.jumpSpeed;\n//     }\n//     if (downIsDown) {\n//       this.speedY += 1;\n//     }\n//     this.y = this.y + this.speedY;\n//     if (this.y > game.height - this.radius) {\n//       if (this.speedY > 10) {\n//         click.play();\n//       }\n//       this.speedY = 0;\n//       this.y = game.height - this.radius;\n//     }\n//     this.speedY++;\n//     if (this.y < this.radius) {\n//       if (this.speedY < -10) {\n//         click.play();\n//       }\n//       this.speedY = 0;\n//       this.y = this.radius;\n//     }\n//   }\n// };\n// Ball.prototype.checkPos = function () { /*collapseit*/\n//   if (!this.delaying) {\n//   var lava = game.container.lava;\n//     if (this.y > lava.y - this.radius && this.x > lava.x - this.radius + 5 && this.x < lava.x + lava.width + 5) {\n//       this.speedX = 0;\n//       this.speedY = 0;\n//       this.y = lava.y - this.radius;\n//       this.touchingLava = true;\n//     }\n//     if (this.x > lava.x - this.radius && this.y > lava.y - this.radius && this.x < lava.x + lava.width / 2) {\n//       this.speedX = 0;\n//       this.x = lava.x - this.radius;\n//       this.touchingLava = true;\n//     }\n//     if (this.x > lava.x + lava.width / 2 && this.y > lava.y - this.radius && this.x < lava.x + lava.width + this.radius) {\n//       this.speedX = 0;\n//       this.x = lava.x + lava.width + this.radius;\n//       this.touchingLava = true;\n//     }\n//     if (this.touchingLava || this.delayed > 0) {\n//       this.touchingLava = false;\n\n//       if (this.delayed === 0) {\n//         this.delay(100);\n//       }\n//       if (!this.delaying) {\n//         if (this.delayed === 1) {\n//           bellRing.play();\n//           this.delay(650);\n//         }\n//         if (!this.delaying) {\n//           if (this.delayed === 2) {\n//             this.lives.count--;\n//             this.delay(650);\n//           }\n//           if (!this.delaying) {\n//             this.side = \"left\";\n//             this.x = 100 + this.radius\n//             this.y = game.height / 2 + this.radius;\n//             this.speedX = 0;\n//             this.speedY = 5;\n//             this.delayed = 0;\n//             if (this.lives.count <= 0) { //Game Ended\n//               if (this.score.count === 1) {\n//                 alert(\"Perdeste com \" + this.score.count + \" Ponto!!\");\n//               } else {\n//                 alert(\"Perdeste com \" + this.score.count + \" Pontos!!\");\n//               }\n//               this.score.count = 0;\n//               this.lives.count = 5;\n//               upIsDown = false;\n//               rightIsDown = false;\n//               leftIsDown = false;\n//             }\n//           }\n//         }\n//       }\n//     } //SCORE\n//     if (this.side === \"left\" && this.x > game.width / 2 && this.y > game.height - this.radius - 2) {\n//       this.side = \"right\";\n//       this.score.count++;\n//     }\n//     if (this.side === \"right\" && this.x < game.width / 2 && this.y > game.height - this.radius - 2) {\n//       this.side = \"left\";\n//       this.score.count++;\n//     }\n//   }\n// };\n// Ball.prototype.updatePos = function () { /*collapseit*/\n//   this.updateX();\n//   this.updateY();\n// };\n// Ball.prototype.delay = function (ms) { /*collapseit*/\n//   ms += new Date().getTime();\n//   this.finalDelayTime = ms;\n//   this.delaying = true;\n//   this.delayed++;\n// };\n// Ball.prototype.delayStop = function () { /*collapseit*/\n//   if (this.delaying) {\n//     if (new Date().getTime() > this.finalDelayTime) {\n//       this.delaying = false;\n//       this.finalDelayTime = 0;\n//     }\n//   }\n// };\n// Ball.prototype.restart = function () { /*collapseit*/\n//   this.x = this.initX;\n//   this.y = this.initY;\n//   this.walkSpeed = 2;\n//   this.jumpSpeed = 20;\n//   this.lives.count = 5;\n//   this.score.count = 0;\n//   this.side = \"left\";\n//   this.touchingLava = false;\n//   this.delaying = false;\n//   this.delayed = 0;\n//   this.finalDelayTime = 0;\n//   this.speedX = 0;\n//   this.speedY = 0;\n//   this.visible = true;\n// };\n\nfunction GameState () { /*collapseit*/\n  Rectangle.call(this, canvas.width / 2 - 500, canvas.height / 2 - 300, 1000, 600);\n  this.outlinePosition = \"outer\";\n  this.color = \"#2f538e\";\n  this.visible = false;\n  this.doTranslate = true;\n  this.container = new Object();\n}\nGameState.prototype = Object.create(Rectangle.prototype);\nGameState.prototype.constructor = GameState;\nGameState.prototype.draw = function () { /*collapseit*/\n  c.setTransform(1, 0, 0, 1, 0, 0);\n  if (this.visible) { //Draw itself\n    c.lineWidth = this.outlineWidth;\n    c.fillStyle = this.color;\n    c.strokeStyle = this.outlineColor;\n    c.lineWidth = this.outlineWidth;\n    c.fillRect(this.x, this.y, this.width, this.height);\n    this.drawParts_outline();\n    this.drawParts_patterns();\n  }\n  if (this.doTranslate) {\n    c.translate(this.x, this.y);\n  }\n  if (this.visible) {\n    var contents = this.container.getAllProperties();\n    \n    //Order controls by showIndex\n    var indices = [];\n    var controls = [];\n    for (i = 0; i < contents.length; i++) {\n      if (typeof contents[i] == \"object\" && typeof contents[i].showIndex == \"number\") {\n        indices.push(i);\n        controls.push(contents[i]);\n      }\n    }\n    controls.sort(function(a,b){return a.showIndex-b.showIndex}); //Lower is drawn first, in back.\n    for (i = 0; i < controls.length; i++) {\n      contents[indices[i]] = controls[i];\n    }\n    //Draw everything in its container\n    for (i = 0; i < contents.length; i++) { //Lembrar que também há um destes na Window.\n      switch (typeof(contents[i])) {\n      case \"object\":\n        if (contents[i]instanceof TextButton) {\n          contents[i].update();\n          contents[i].draw();\n        } else if (contents[i]instanceof Label) {\n          contents[i].updateLanguage();\n          contents[i].updateContext();\n          contents[i].draw();\n        } else if (contents[i]instanceof Window) {\n          contents[i].draw();\n          contents[i].updatePos();\n        } else if (contents[i]instanceof Ball) {\n          contents[i].drawText();\n          contents[i].checkPos();\n          contents[i].draw();\n          contents[i].updatePos();\n          contents[i].delayStop();\n        } else {\n          contents[i].draw();\n        }\n        break;\n      case \"function\":\n        if (!(contents[i].toString().includes(\"getAllInstances\")||contents[i].toString().includes(\"getAllProperties\"))) {\n          contents[i]();\n        }\n        break;\n      }\n    }\n  }\n};\n\nfunction Window (width, height) { /*collapseit*/\n  Rectangle.call(this, canvas.width/2 - width/2, -height, width, height);\n  this.doTranslate = true;\n  this.color = \"#1062e8\";\n  this.outlinePosition = \"inner\";\n  this.showIndex = 100;\n  this.maxYMoveSpeed = 40;\n  this.showing = false;\n  this.hiding = false;\n  this.container = new Object();\n}\nWindow.prototype = Object.create(Rectangle.prototype);\nWindow.prototype.constructor = Window;\nWindow.prototype.draw = function () { /*collapseit*/\n  c.setTransform(1, 0, 0, 1, 0, 0);\n  if (this.visible) { //Draw itself\n    c.lineWidth = this.outlineWidth;\n    c.fillStyle = this.color;\n    c.strokeStyle = this.outlineColor;\n    c.lineWidth = this.outlineWidth;\n    c.fillRect(this.x, this.y, this.width, this.height);\n    this.drawParts_outline();\n    this.drawParts_patterns();\n  }\n  if (this.doTranslate) {\n    c.translate(this.x, this.y);\n  }\n  if (this.visible) {\n    var contents = this.container.getAllProperties();\n    //Order controls by showIndex\n    var indices = [];\n    var controls = [];\n    for (j = 0; j < contents.length; j++) {\n      if (typeof contents[j] == \"object\" && typeof contents[j].showIndex == \"number\") {\n        indices.push(j);\n        controls.push(contents[j]);\n      }\n    }\n    controls.sort(function(a,b){return b.showIndex-a.showIndex});\n    for (j = 0; j < controls.length; j++) {\n      contents[indices[j]] = controls[j];\n    }\n    //Draw everything in its container\n    for (j = 0; j < contents.length; j++) { //Lembrar que também há um destes na GameState.\n      switch (typeof(contents[j])) {\n      case \"object\":\n        if (contents[j]instanceof TextButton) {\n          contents[j].update();\n          contents[j].draw();\n        } else if (contents[j]instanceof Label) {\n          contents[j].updateLanguage();\n          contents[i].updateContext();\n          contents[j].draw();\n        } else if (contents[j]instanceof Ball) {\n          contents[j].drawText();\n          contents[j].checkPos();\n          contents[j].draw();\n          contents[j].updatePos();\n          contents[j].delayStop();\n        } else {\n          contents[j].draw();\n        }\n        break;\n      case \"function\":\n        if (!(contents[j].toString().includes(\"getAllInstances\")||contents[j].toString().includes(\"getAllProperties\"))) {\n          contents[j]();\n        }\n        break;\n      }\n    }\n    \n  }\n  c.setTransform(1, 0, 0, 1, 0, 0);\n  c.translate(game.x, game.y); //considering that there is a game GameState\n};\nWindow.prototype.updatePos = function () { /*collapseit*/\n  var showProgress = distance(0, this.y, 0, canvas.height / 2 - this.height / 2) /*Current*/ /\n                      distance(0, -this.height, 0, canvas.height / 2 - this.height / 2) /*Total*/;\n  var hideProgress = distance(0, this.y, 0, canvas.height) /*Current*/ /\n                      distance(0, canvas.height / 2 - this.height / 2, 0, canvas.height) /*Total*/;\n  if (this.showing) {\n    this.y += this.maxYMoveSpeed*showProgress;\n    if (Math.round(this.y) == Math.round(canvas.height / 2 - this.height / 2)) {\n      this.showing = false;\n    }\n  }\n  if (this.hiding) {\n    this.y += this.maxYMoveSpeed*(1-hideProgress)+1;\n    if (this.y > canvas.height) {\n      this.hiding = false;\n    }\n  }\n  \n}\nWindow.prototype.show = function () { /*collapseit*/\n  this.visible = true;\n  this.x = canvas.width/2 - this.width/2;\n  this.y = -this.height;\n  this.showing = true;\n  this.hiding = false;\n};\nWindow.prototype.hide = function () { /*collapseit*/\n  this.visible = true;\n  this.x = canvas.width/2 - this.width/2;\n  this.y = canvas.height/2 - this.height/2;\n  this.showing = false;\n  this.hiding = true;\n};","var game = new GameState();\nvar mainMenu = new GameState();\nvar options = new GameState();\nmainMenu.visible = true;\n//game\n/*var rect = new Rectangle();\nrect.doTranslate = true; Isto é o antigo rect.*/\ngame.container.player = new Ball(100+15, game.height / 2 + 15);\n\ngame.container.lava = new Rectangle(game.width / 2 - 50, game.height - 130, 100, 130);\ngame.container.lava.doPattern = \"diagonals\";\ngame.container.lava.color = \"orange\";\ngame.container.lava.outlineColor = \"red\";\ngame.container.lava.outlineWidth = 2;\ngame.container.lava.outlinePosition = \"inner\";\ngame.container.backToMenu_opt = new TextButton(game.width/2, 50, backToMenu_lang, \"center\", 40, 5);\ngame.container.backToMenu_opt.updateLanguage = function(){this.text=backToMenu_lang};\nmainMenu.container.playGame_opt = new TextButton(game.width/2, 130, playGameOption_lang, \"center\", 50, 5);\nmainMenu.container.playGame_opt.updateLanguage = function(){this.text=playGameOption_lang};\nmainMenu.container.options_opt = new TextButton(game.width/2, 220, optionsOption_lang, \"center\", 50, 5);\nmainMenu.container.options_opt.updateLanguage = function(){this.text=optionsOption_lang};\nmainMenu.container.download_opt = new TextButton(game.width/2, 310, downloadOption_lang, \"center\", 50, 5);\nmainMenu.container.download_opt.updateLanguage = function(){this.text=downloadOption_lang};\noptions.container.exitOptions_opt = new TextButton(30, 30, exitOptionsButton_lang, \"start\", 30, 5);\noptions.container.exitOptions_opt.updateLanguage = function(){this.text=exitOptionsButton_lang};\noptions.container.optionsSoon = new Label(game.width/2, game.height/2 - 15, optionsSoon_lang, \"center\");\noptions.container.optionsSoon.textHeight = 100;\noptions.container.optionsSoon.updateLanguage = function(){this.text=optionsSoon_lang};\n{ // onClick events for the TextButtons\n  game.container.backToMenu_opt.onclick = function () {\n    game.visible = false;\n    mainMenu.visible = true;\n    options.visible = false;\n  };\n  mainMenu.container.playGame_opt.onclick = function () {\n    game.visible = true;\n    mainMenu.visible = false;\n    options.visible = false;\n    game.container.player.restart();\n  };\n  mainMenu.container.options_opt.onclick = function () {\n    game.visible = false;\n    mainMenu.visible = false;\n    options.visible = true;\n  };\n  mainMenu.container.download_opt.onclick = function () {\n    download('https://www.dropbox.com/s/0stlwtfyvryq57w/Jogo%20da%20Bolinha.rar?dl=1');\n  };\n  options.container.exitOptions_opt.onclick = function () {\n    game.visible = false;\n    mainMenu.visible = true;\n    options.visible = false;\n  };\n}\n\n//debug\nvar debugMode = false;\nvar debugTax = 6;\nvar debugFrameRate;\nvar debugTimer;\n\n//var gameState = \"mainMenu\"; /*\t'mainMenu'\t'game'\t'options'\t*/\n/*------------------------------------LOOP-----------------------------------------*/  \nAnimationLOOP(function(){\n  /*rect.draw();*/\n  game.draw();\n  mainMenu.draw();\n  options.draw();\n  /*switch (gameState) {\n  case 'game':\n    lava.draw();\n    player.drawText();\n    player.checkPos();\n    player.draw();\n    player.updatePos();\n    backToMenu_opt.draw();\n    backToMenu_opt.updateEvents();\n    backToMenu_opt.text = backToMenu_lang;\n\n    player.delayStop();\n    break;\n  case 'mainMenu':\n    rect.color = \"#2f538e\";\n    playGame_opt.draw();\n    playGame_opt.updateEvents();\n    playGame_opt.text = playGameOption_lang;\n    options_opt.draw();\n    options_opt.updateEvents();\n    options_opt.text = optionsOption_lang;\n    download_opt.draw();\n    download_opt.updateEvents();\n    download_opt.text = downloadOption_lang;\n    break;\n  case 'options':\n    optionsSoon.draw();\n    optionsSoon.text = optionsSoon_lang;\n    exitOptions_opt.draw();\n    exitOptions_opt.updateEvents();\n    exitOptions_opt.text = exitOptionsButton_lang;\n    break;\n  }*/\n  \n  drawDebug();\n});\n\n/*------------------------------------FUNCTIONS------------------------------------*/\nfunction drawDebug() { /* collapseit */\n  if (!document.hasFocus()) {\n    rightIsDown = false;\n    leftIsDown = false;\n    upIsDown = false;\n  }\n  if (debugMode) {\n    c.fillStyle = \"white\";\n    c.font = \"bold 15px Tahoma\";\n    debugTax++;\n    if (debugTax > 6) {\n      debugTax = 0;\n      debugFrameRate = (new Date().getTime()) - debugTimer;\n    }\n    c.fillText(debugFrameRate, game.width - 40, 40);\n  }\n  debugTimer = new Date().getTime();\n}"],"names":["dropdownLanguage","element","getCookie","canvas","resizeCanvas","backToIndex","download","setLanguage","background","ctx","toolBar","event","mouseX","mouseY","mouseIsDown","onresize","livesText_lang","scoreText_lang","Label","x","y","text","xAlign","textHeight","hoveringHeightIncrement","__publicField","hovering1","hovering2","hovering3","hovering4","c","transparent","PlayerInfo","type","startCount","lava","ms","GameState","contents","indices","controls","a","b","TextButton","Window","Ball","width","height","showProgress","hideProgress","game","mainMenu","options","drawDebug"],"mappings":"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"}