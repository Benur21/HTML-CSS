{"version":3,"file":"theballgame-Buyn8Ea8.js","sources":["../../src/languages/TheBallGame.ts","../../src/TheBallGame/Initialization.ts","../../src/TheBallGame/Events.ts","../../src/TheBallGame/Classes.ts","../../src/TheBallGame/Main.ts"],"sourcesContent":["import { element } from \"../JSTools\";\n\nfunction setLanguage(language: \"en\" | \"pt\") {\n  const canvas = (window as any).globals.canvas;\n  \n  switch (language) {\n  case \"en\":\n    document.cookie = \"language=\" + language + \"; expires=Thu, 01 Jan 2040 00:00:00 UTC; path=/;\";\n    document.title = \"The Ball Game\";\n    canvas.innerHTML = \"Your browser doesn't support the HTML5 canvas tag.\";\n    element(\"backToIndex\")!.innerHTML = \"Back\";\n    element(\"reloadButton\")!.innerHTML = \"Reload\";\n    element(\"downloadGame\")!.innerHTML = \"Download Game (Portuguese only)\";\n    (window as any).globals.livesText_lang = \"Lives\";\n    (window as any).globals.scoreText_lang = \"Score\";\n    (window as any).globals.playGameOption_lang = \"Play\";\n    (window as any).globals.optionsOption_lang = \"Options\";\n    (window as any).globals.downloadOption_lang = \"Download\";\n    (window as any).globals.optionsSoon_lang = \"Soon\";\n    (window as any).globals.backToMenu_lang = \"Exit\";\n    (window as any).globals.exitOptionsButton_lang = \"Back to Main Menu\";\n    break;\n  default:\n    localStorage.removeItem(\"language\");\n    document.cookie = \"language=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n    document.title = \"Jogo da Bolinha\";\n    canvas.innerHTML = \"O teu browser n√£o suporta a tag canvas do HTML5.\";\n    element(\"backToIndex\")!.innerHTML = \"Voltar\";\n    element(\"reloadButton\")!.innerHTML = \"Recarregar\";\n    element(\"downloadGame\")!.innerHTML = \"Descarregar Jogo\";\n    (window as any).globals.livesText_lang = \"Vidas\";\n    (window as any).globals.scoreText_lang = \"Pontua√ß√£o\";\n    (window as any).globals.playGameOption_lang = \"Jogar\";\n    (window as any).globals.optionsOption_lang = \"Op√ß√µes\";\n    (window as any).globals.downloadOption_lang = \"Descarregar\";\n    (window as any).globals.optionsSoon_lang = \"Brevemente\";\n    (window as any).globals.backToMenu_lang = \"Sair\";\n    (window as any).globals.exitOptionsButton_lang = \"Voltar para o Menu Principal\";\n    break;\n  }\n}\n\nexport { setLanguage };","import { element, resizeCanvas, getCookie, backToIndex, download } from \"../JSTools\";\nimport { setLanguage } from \"../languages/TheBallGame\";\nimport '../globals';\nimport { onresize } from \"./Events\";\n\n// <select> \"ONLOAD\"=\nvar dropdownLanguage = element('dropdownLanguage') as HTMLSelectElement;\nif (getCookie('language') != undefined && getCookie('language') != '') {\n  dropdownLanguage.value = getCookie('language');\n} else {\n  dropdownLanguage.value = 'pt';\n}\n\nconst canvas = element(\"canvas\") as HTMLCanvasElement;\nif (canvas == null) {\n  throw new Error(\"Canvas is null.\");\n}\n(window as any).globals.canvas = canvas;\n\n//Creating variables for the elements...\nconst background = element(\"background\")!;\n\ndocument.body.onresize = onresize;\nif (document.readyState === \"loading\") {\n  // Loading hasn't finished yet\n  document.addEventListener('DOMContentLoaded', () => {\n    onresize();\n    setLanguage(getCookie('language') as 'pt' | 'en');\n  });\n} else {\n  // `DOMContentLoaded` has already fired\n  onresize();\n  setLanguage(getCookie(\"language\") as \"pt\" | \"en\");\n}\n\n\n//toolBar\nelement(\"backToIndex\")!.onclick = backToIndex;\nelement('reloadButton')!.onclick = () =>\n  (location.reload as (forceGet: boolean) => void)(true);\nelement('downloadGame')!.onclick = () =>\n  download('https://www.dropbox.com/s/0stlwtfyvryq57w/Jogo%20da%20Bolinha.rar?dl=1');\ndropdownLanguage.onchange = () => setLanguage(dropdownLanguage.value as \"pt\" | \"en\");\n\n\n//Setting values...\nconst ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\nif (ctx == null) {\n  throw new Error(\"Canvas context is null.\");\n}\nconst toolBar = element(\"toolBar\");\nif (toolBar) toolBar.style.height = (window as any).globals.toolBarHeight + \"px\";\ncanvas.style.top = (window as any).globals.toolBarHeight + \"px\";\nbackground.style.width = innerWidth + \"px\";\nbackground.style.height = innerHeight + \"px\";\nctx.lineJoin = \"round\";\n//Loading Audio...\nvar click = new Audio(\"resources/Click.wav\");\nvar bellRing = new Audio(\"resources/BellRing.wav\");\n//Resizing Canvas...\nresizeCanvas();\n\n\nexport { click, bellRing, background };","import { resizeCanvas, setMouseProvider } from '../JSTools';\nimport { background } from './Initialization';\n\nconst canvas = (window as any).globals.canvas as HTMLCanvasElement;\n\nvar lastKey;\nexport let upIsDown = false;\nexport let leftIsDown = false;\nexport let rightIsDown = false;\nexport let downIsDown = false;\ndocument.body.onkeydown = function (event) {\n  lastKey = event.which || event.keyCode || event.code;\n  if (lastKey === 38 || lastKey === 87) {\n    upIsDown = true;\n  }\n  if (lastKey === 37 || lastKey === 65) {\n    leftIsDown = true;\n  }\n  if (lastKey === 39 || lastKey === 68) {\n    rightIsDown = true;\n  }\n  if (lastKey === 40 || lastKey === 83) {\n    downIsDown = true;\n  }\n};\ndocument.body.onkeyup = function (event) {\n  lastKey = event.which || event.keyCode || event.code;\n  if (lastKey === 38 || lastKey === 87) {\n    upIsDown = false;\n  }\n  if (lastKey === 37 || lastKey === 65) {\n    leftIsDown = false;\n  }\n  if (lastKey === 39 || lastKey === 68) {\n    rightIsDown = false;\n  }\n  if (lastKey === 40 || lastKey === 83) {\n    downIsDown = false;\n  }\n};\nexport let mouseX: number, mouseY: number, mouseIsDown: boolean;\ndocument.body.onmousemove = function (event) {\n  // Compute mouse coordinates in canvas drawing coordinate space.\n  // Use getBoundingClientRect to account for page layout and CSS scaling.\n  const rect = canvas.getBoundingClientRect();\n  const x = event.clientX - rect.left;\n  const y = event.clientY - rect.top;\n  // Scale from CSS pixels to canvas pixels (handles HiDPI and CSS sizing).\n  mouseX = x * (canvas.width / rect.width);\n  mouseY = y * (canvas.height / rect.height);\n};\ndocument.body.onmousedown = function () {\n  mouseIsDown = true;\n};\ndocument.body.onmouseup = function () {\n  mouseIsDown = false;\n};\ndocument.body.onresize = onresize;\nfunction onresize() {\n  resizeCanvas();\n  background.style.width = innerWidth + 'px';\n  background.style.height = innerHeight + 'px';\n}\n\nsetMouseProvider(() => ({ x: mouseX, y: mouseY, isDown: mouseIsDown }));\n\nfunction setKeyStates(states: {\n  upIsDown?: boolean;\n  leftIsDown?: boolean;\n  rightIsDown?: boolean;\n  downIsDown?: boolean;\n}) {\n  if (typeof states.upIsDown === 'boolean') upIsDown = states.upIsDown;\n  if (typeof states.leftIsDown === 'boolean') leftIsDown = states.leftIsDown;\n  if (typeof states.rightIsDown === 'boolean') rightIsDown = states.rightIsDown;\n  if (typeof states.downIsDown === 'boolean') downIsDown = states.downIsDown;\n}\n\nexport { lastKey, setKeyStates, onresize };\n","import { Circle, distance, Label, Rectangle, transparent } from \"../JSTools\";\nimport { downIsDown, leftIsDown, mouseIsDown, mouseX, mouseY, rightIsDown, setKeyStates, upIsDown } from \"./Events\";\nimport { bellRing, click } from \"./Initialization\";\nimport { game } from \"./Main\";\n\nconst c = (window as any).globals.canvas.getContext('2d') as CanvasRenderingContext2D;\n\nclass PlayerInfo extends Label {/*collapseit*/\n  type: \"lives\" | \"score\";\n  count: number;\n  constructor(x: number, y: number, type: \"lives\" | \"score\", xAlign: \"start\" | \"center\", startCount: number) {\n    super(x, y, \"\", xAlign);\n    this.type = type;\n    this.count = startCount;\n    switch (this.type.toLowerCase()) {\n    case \"lives\":\n      this.text = (window as any).globals.livesText_lang;\n      break;\n    case \"score\":\n      this.text = (window as any).globals.scoreText_lang;\n      break;\n    }\n  }\n}\n\nclass Ball extends Circle {\n  speedX = 0;\n  speedY = 0;\n  color = \"#0000FF\";\n  walkSpeed = 2;\n  jumpSpeed = 20;\n  side: \"left\" | \"right\" = \"left\";\n  touchingLava = false;\n  delaying = false;\n  delayed = 0;\n  finalDelayTime = 0;\n  lives: PlayerInfo;\n  score: PlayerInfo;\n  initX: number;\n  initY: number;\n  visible = true;\n\n  constructor(x: number, y: number) {\n    super(x, y, 15);\n    this.initX = x;\n    this.initY = y;\n    this.lives = new PlayerInfo(10, 40, \"lives\", \"start\", 5);\n    this.score = new PlayerInfo(10, 80, \"score\", \"start\", 0);\n  }\n\n  drawText() {\n    this.lives.text = (window as any).globals.livesText_lang + \" = \" + this.lives.count;\n    this.lives.updateContext();\n    this.lives.draw();\n    this.score.text = (window as any).globals.scoreText_lang + \" = \" + this.score.count;\n    this.score.updateContext();\n    this.score.draw();\n  }\n\n  updateX() {\n    if (!this.delaying) {\n      this.speedX *= 0.7;\n      if (leftIsDown && this.x > this.radius) this.speedX -= this.walkSpeed;\n      if (rightIsDown && this.x < game.width - this.radius) this.speedX += this.walkSpeed;\n      this.x += this.speedX;\n\n      if (this.x < this.radius) {\n        if (this.speedX < 0) click.play();\n        this.speedX = 0;\n        this.x = this.radius;\n      }\n      if (this.x > game.width - this.radius) {\n        if (this.speedX > 0) click.play();\n        this.speedX = 0;\n        this.x = game.width - this.radius;\n      }\n    }\n  }\n\n  updateY() {\n    if (!this.delaying) {\n      if (this.speedY === 1 && this.y > game.height - this.radius - 1 && upIsDown) {\n        this.speedY = -this.jumpSpeed;\n      }\n      if (downIsDown) this.speedY += 1;\n      this.y += this.speedY;\n\n      if (this.y > game.height - this.radius) {\n        if (this.speedY > 10) click.play();\n        this.speedY = 0;\n        this.y = game.height - this.radius;\n      }\n      this.speedY++;\n\n      if (this.y < this.radius) {\n        if (this.speedY < -10) click.play();\n        this.speedY = 0;\n        this.y = this.radius;\n      }\n    }\n  }\n\n  checkPos() {\n    if (!this.delaying) {\n      const lava = game.container.lava;\n\n      if (this.y > lava.y - this.radius && this.x > lava.x - this.radius + 5 && this.x < lava.x + lava.width + 5) {\n        this.speedX = 0;\n        this.speedY = 0;\n        this.y = lava.y - this.radius;\n        this.touchingLava = true;\n      }\n      if (this.x > lava.x - this.radius && this.y > lava.y - this.radius && this.x < lava.x + lava.width / 2) {\n        this.speedX = 0;\n        this.x = lava.x - this.radius;\n        this.touchingLava = true;\n      }\n      if (this.x > lava.x + lava.width / 2 && this.y > lava.y - this.radius && this.x < lava.x + lava.width + this.radius) {\n        this.speedX = 0;\n        this.x = lava.x + lava.width + this.radius;\n        this.touchingLava = true;\n      }\n\n      if (this.touchingLava || this.delayed > 0) {\n        this.touchingLava = false;\n\n        if (this.delayed === 0) this.delay(100);\n        if (!this.delaying && this.delayed === 1) {\n          bellRing.play();\n          this.delay(650);\n        }\n        if (!this.delaying && this.delayed === 2) {\n          this.lives.count--;\n          this.delay(650);\n        }\n        if (!this.delaying && this.delayed >= 2) {\n          this.side = \"left\";\n          this.x = 100 + this.radius;\n          this.y = game.height / 2 + this.radius;\n          this.speedX = 0;\n          this.speedY = 5;\n          this.delayed = 0;\n          if (this.lives.count <= 0) {\n            alert(`Perdeste com ${this.score.count} Ponto${this.score.count === 1 ? \"\" : \"s\"}!!`);\n            this.score.count = 0;\n            this.lives.count = 5;\n            setKeyStates({\n              upIsDown: false,\n              rightIsDown: false,\n              leftIsDown: false,\n            });\n          }\n        }\n      }\n\n      if (this.side === \"left\" && this.x > game.width / 2 && this.y > game.height - this.radius - 2) {\n        this.side = \"right\";\n        this.score.count++;\n      }\n      if (this.side === \"right\" && this.x < game.width / 2 && this.y > game.height - this.radius - 2) {\n        this.side = \"left\";\n        this.score.count++;\n      }\n    }\n  }\n\n  updatePos() {\n    this.updateX();\n    this.updateY();\n  }\n\n  delay(ms: number) {\n    this.finalDelayTime = Date.now() + ms;\n    this.delaying = true;\n    this.delayed++;\n  }\n\n  delayStop() {\n    if (this.delaying && Date.now() > this.finalDelayTime) {\n      this.delaying = false;\n      this.finalDelayTime = 0;\n    }\n  }\n\n  restart() {\n    this.x = this.initX;\n    this.y = this.initY;\n    this.walkSpeed = 2;\n    this.jumpSpeed = 20;\n    this.lives.count = 5;\n    this.score.count = 0;\n    this.side = \"left\";\n    this.touchingLava = false;\n    this.delaying = false;\n    this.delayed = 0;\n    this.finalDelayTime = 0;\n    this.speedX = 0;\n    this.speedY = 0;\n    this.visible = true;\n  }\n}\n\n\n// function Ball(x, y) { /*collapseit*/\n//   Circle.call(this, x, y, 15);\n//   this.speedX = 0;\n//   this.speedY = 0;\n//   this.color = \"#0000FF\";\n//   this.walkSpeed = 2;\n//   this.jumpSpeed = 20;\n//   this.side = \"left\";\n//   this.touchingLava = false;\n//   this.delaying = false;\n//   this.delayed = 0;\n//   this.finalDelayTime = 0;\n//   this.lives = new PlayerInfo(10, 40, \"lives\", \"start\", 5);\n//   this.score = new PlayerInfo(10, 80, \"score\", \"start\", 0);\n// }\n// Ball.prototype = Object.create(Circle.prototype);\n// Ball.prototype.constructor = Ball;\n// Ball.prototype.drawText = function () { /*collapseit*/\n//   this.lives.text = livesText_lang + \" = \" + this.lives.count;\n//   this.lives.updateContext();\n//   this.lives.draw();\n//   this.score.text = scoreText_lang + \" = \" + this.score.count;\n//   this.score.updateContext();\n//   this.score.draw();\n// };\n// Ball.prototype.updateX = function () { /*collapseit*/\n//   if (!this.delaying) {\n//     this.speedX = this.speedX * 0.7;\n//     if (leftIsDown && this.x > this.radius) {\n//       this.speedX = this.speedX - this.walkSpeed;\n//     }\n//     if (rightIsDown && this.x < game.width - this.radius) {\n//       this.speedX = this.speedX + this.walkSpeed;\n//     }\n//     this.x = this.x + this.speedX;\n//     //console.log(this.speedX);\n//     if (this.x < this.radius) {\n//       if (this.speedX < 0) {\n//         click.play();\n//       }\n//       this.speedX = 0;\n//       this.x = this.radius;\n//     }\n//     if (this.x > game.width - this.radius) {\n//       if (this.speedX > 0) {\n//         click.play();\n//       }\n//       this.speedX = 0;\n//       this.x = game.width - this.radius;\n//     }\n//   }\n// };\n// Ball.prototype.updateY = function () { /*collapseit*/\n//   if (!this.delaying) {\n//     if (this.speedY === 1 && this.y > game.height - this.radius - 1 && upIsDown) {\n//       this.speedY = -this.jumpSpeed;\n//     }\n//     if (downIsDown) {\n//       this.speedY += 1;\n//     }\n//     this.y = this.y + this.speedY;\n//     if (this.y > game.height - this.radius) {\n//       if (this.speedY > 10) {\n//         click.play();\n//       }\n//       this.speedY = 0;\n//       this.y = game.height - this.radius;\n//     }\n//     this.speedY++;\n//     if (this.y < this.radius) {\n//       if (this.speedY < -10) {\n//         click.play();\n//       }\n//       this.speedY = 0;\n//       this.y = this.radius;\n//     }\n//   }\n// };\n// Ball.prototype.checkPos = function () { /*collapseit*/\n//   if (!this.delaying) {\n//   var lava = game.container.lava;\n//     if (this.y > lava.y - this.radius && this.x > lava.x - this.radius + 5 && this.x < lava.x + lava.width + 5) {\n//       this.speedX = 0;\n//       this.speedY = 0;\n//       this.y = lava.y - this.radius;\n//       this.touchingLava = true;\n//     }\n//     if (this.x > lava.x - this.radius && this.y > lava.y - this.radius && this.x < lava.x + lava.width / 2) {\n//       this.speedX = 0;\n//       this.x = lava.x - this.radius;\n//       this.touchingLava = true;\n//     }\n//     if (this.x > lava.x + lava.width / 2 && this.y > lava.y - this.radius && this.x < lava.x + lava.width + this.radius) {\n//       this.speedX = 0;\n//       this.x = lava.x + lava.width + this.radius;\n//       this.touchingLava = true;\n//     }\n//     if (this.touchingLava || this.delayed > 0) {\n//       this.touchingLava = false;\n\n//       if (this.delayed === 0) {\n//         this.delay(100);\n//       }\n//       if (!this.delaying) {\n//         if (this.delayed === 1) {\n//           bellRing.play();\n//           this.delay(650);\n//         }\n//         if (!this.delaying) {\n//           if (this.delayed === 2) {\n//             this.lives.count--;\n//             this.delay(650);\n//           }\n//           if (!this.delaying) {\n//             this.side = \"left\";\n//             this.x = 100 + this.radius\n//             this.y = game.height / 2 + this.radius;\n//             this.speedX = 0;\n//             this.speedY = 5;\n//             this.delayed = 0;\n//             if (this.lives.count <= 0) { //Game Ended\n//               if (this.score.count === 1) {\n//                 alert(\"Perdeste com \" + this.score.count + \" Ponto!!\");\n//               } else {\n//                 alert(\"Perdeste com \" + this.score.count + \" Pontos!!\");\n//               }\n//               this.score.count = 0;\n//               this.lives.count = 5;\n//               upIsDown = false;\n//               rightIsDown = false;\n//               leftIsDown = false;\n//             }\n//           }\n//         }\n//       }\n//     } //SCORE\n//     if (this.side === \"left\" && this.x > game.width / 2 && this.y > game.height - this.radius - 2) {\n//       this.side = \"right\";\n//       this.score.count++;\n//     }\n//     if (this.side === \"right\" && this.x < game.width / 2 && this.y > game.height - this.radius - 2) {\n//       this.side = \"left\";\n//       this.score.count++;\n//     }\n//   }\n// };\n// Ball.prototype.updatePos = function () { /*collapseit*/\n//   this.updateX();\n//   this.updateY();\n// };\n// Ball.prototype.delay = function (ms) { /*collapseit*/\n//   ms += new Date().getTime();\n//   this.finalDelayTime = ms;\n//   this.delaying = true;\n//   this.delayed++;\n// };\n// Ball.prototype.delayStop = function () { /*collapseit*/\n//   if (this.delaying) {\n//     if (new Date().getTime() > this.finalDelayTime) {\n//       this.delaying = false;\n//       this.finalDelayTime = 0;\n//     }\n//   }\n// };\n// Ball.prototype.restart = function () { /*collapseit*/\n//   this.x = this.initX;\n//   this.y = this.initY;\n//   this.walkSpeed = 2;\n//   this.jumpSpeed = 20;\n//   this.lives.count = 5;\n//   this.score.count = 0;\n//   this.side = \"left\";\n//   this.touchingLava = false;\n//   this.delaying = false;\n//   this.delayed = 0;\n//   this.finalDelayTime = 0;\n//   this.speedX = 0;\n//   this.speedY = 0;\n//   this.visible = true;\n// };\n\n\nexport { PlayerInfo, Ball };","import \"../languages/TheBallGame\";\nimport { AnimationLOOP, download, GameState, JSWindow, Label, Rectangle, TextButton } from \"../JSTools\";\nimport { setKeyStates } from \"./Events\";\nimport { Ball } from \"./Classes\";\n\nconst c = (window as any).globals.canvas.getContext('2d') as CanvasRenderingContext2D;\n\nvar game = new GameState();\nvar mainMenu = new GameState();\nvar options = new GameState();\nmainMenu.visible = true;\n//game\n/*var rect = new Rectangle();\nrect.doTranslate = true; Isto √© o antigo rect.*/\ngame.container.player = new Ball(100+15, game.height / 2 + 15);\n\ngame.container.lava = new Rectangle(game.width / 2 - 50, game.height - 130, 100, 130);\ngame.container.lava.doPattern = \"diagonals\";\ngame.container.lava.color = \"orange\";\ngame.container.lava.outlineColor = \"red\";\ngame.container.lava.outlineWidth = 2;\ngame.container.lava.outlinePosition = \"inner\";\ngame.container.backToMenu_opt = new TextButton(game.width/2, 50, (window as any).globals.backToMenu_lang, \"center\", 40, 5);\ngame.container.backToMenu_opt.updateLanguage = function(){this.text=(window as any).globals.backToMenu_lang};\nmainMenu.container.playGame_opt = new TextButton(game.width/2, 130, (window as any).globals.playGameOption_lang, \"center\", 50, 5);\nmainMenu.container.playGame_opt.updateLanguage = function(){this.text=(window as any).globals.playGameOption_lang};\nmainMenu.container.options_opt = new TextButton(game.width/2, 220, (window as any).globals.optionsOption_lang, \"center\", 50, 5);\nmainMenu.container.options_opt.updateLanguage = function(){this.text=(window as any).globals.optionsOption_lang};\nmainMenu.container.download_opt = new TextButton(game.width/2, 310, (window as any).globals.downloadOption_lang, \"center\", 50, 5);\nmainMenu.container.download_opt.updateLanguage = function(){this.text=(window as any).globals.downloadOption_lang};\noptions.container.exitOptions_opt = new TextButton(30, 30, (window as any).globals.exitOptionsButton_lang, \"start\", 30, 5);\noptions.container.exitOptions_opt.updateLanguage = function(){this.text=(window as any).globals.exitOptionsButton_lang};\noptions.container.optionsSoon = new Label(game.width/2, game.height/2 - 15, (window as any).globals.optionsSoon_lang, \"center\");\noptions.container.optionsSoon.textHeight = 100;\noptions.container.optionsSoon.updateLanguage = function(){this.text=(window as any).globals.optionsSoon_lang};\n{ // onClick events for the TextButtons\n  game.container.backToMenu_opt.onclick = function () {\n    game.visible = false;\n    mainMenu.visible = true;\n    options.visible = false;\n  };\n  mainMenu.container.playGame_opt.onclick = function () {\n    game.visible = true;\n    mainMenu.visible = false;\n    options.visible = false;\n    game.container.player.restart();\n  };\n  mainMenu.container.options_opt.onclick = function () {\n    game.visible = false;\n    mainMenu.visible = false;\n    options.visible = true;\n  };\n  mainMenu.container.download_opt.onclick = function () {\n    download('https://www.dropbox.com/s/0stlwtfyvryq57w/Jogo%20da%20Bolinha.rar?dl=1');\n  };\n  options.container.exitOptions_opt.onclick = function () {\n    game.visible = false;\n    mainMenu.visible = true;\n    options.visible = false;\n  };\n}\n\n//debug\nvar debugMode = false;\nvar debugTax = 6;\nvar debugFrameRate: number;\nvar debugTimer: number;\n\n// mainMenu.container.w = new JSWindow(700, 500);\n// mainMenu.container.w.container.closeButton = new TextButton(680, 20, \"X\", \"center\", 20, 5);\n// mainMenu.container.w.container.closeButton.updateLanguage = function(){this.text=\"X\"};\n// mainMenu.container.w.container.closeButton.onclick = () => {\n//   mainMenu.container.w.hide();\n// }\n// mainMenu.container.w.container.welcomemsg = new Label(350, 250, \"Welcome! üòÄ\", \"center\");\n// mainMenu.container.w.container.welcomemsg.updateLanguage = function(){this.text=\"Welcome! üòÄ\"};\n// mainMenu.container.w.show();\n\n// (window as any).globals.mainMenu = mainMenu;\n\n//var gameState = \"mainMenu\"; /*\t'mainMenu'\t'game'\t'options'\t*/\n/*------------------------------------LOOP-----------------------------------------*/  \nAnimationLOOP(function(){\n  /*rect.draw();*/\n  game.draw();\n  mainMenu.draw();\n  options.draw();\n  /*switch (gameState) {\n  case 'game':\n    lava.draw();\n    player.drawText();\n    player.checkPos();\n    player.draw();\n    player.updatePos();\n    backToMenu_opt.draw();\n    backToMenu_opt.updateEvents();\n    backToMenu_opt.text = backToMenu_lang;\n\n    player.delayStop();\n    break;\n  case 'mainMenu':\n    rect.color = \"#2f538e\";\n    playGame_opt.draw();\n    playGame_opt.updateEvents();\n    playGame_opt.text = playGameOption_lang;\n    options_opt.draw();\n    options_opt.updateEvents();\n    options_opt.text = optionsOption_lang;\n    download_opt.draw();\n    download_opt.updateEvents();\n    download_opt.text = downloadOption_lang;\n    break;\n  case 'options':\n    optionsSoon.draw();\n    optionsSoon.text = optionsSoon_lang;\n    exitOptions_opt.draw();\n    exitOptions_opt.updateEvents();\n    exitOptions_opt.text = exitOptionsButton_lang;\n    break;\n  }*/\n  \n  drawDebug();\n});\n\n/*------------------------------------FUNCTIONS------------------------------------*/\nfunction drawDebug() { /* collapseit */\n  if (!document.hasFocus()) {\n    setKeyStates({\n      upIsDown: false,\n      leftIsDown: false,\n      rightIsDown: false,\n    })\n  }\n  if (debugMode) {\n    c.fillStyle = \"white\";\n    c.font = \"bold 15px Tahoma\";\n    debugTax++;\n    if (debugTax > 6) {\n      debugTax = 0;\n      debugFrameRate = (new Date().getTime()) - debugTimer;\n    }\n    c.fillText(String(debugFrameRate), game.width - 40, 40);\n  }\n  debugTimer = new Date().getTime();\n}\n\nexport { game };"],"names":["setLanguage","language","canvas","element","dropdownLanguage","getCookie","background","onresize","backToIndex","download","ctx","toolBar","click","bellRing","resizeCanvas","lastKey","upIsDown","leftIsDown","rightIsDown","downIsDown","event","mouseX","mouseY","mouseIsDown","rect","x","y","setMouseProvider","setKeyStates","states","PlayerInfo","Label","type","xAlign","startCount","__publicField","Ball","Circle","game","lava","ms","GameState","mainMenu","options","Rectangle","TextButton","AnimationLOOP","drawDebug"],"mappings":"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"}