{"version":3,"file":"monopoly-baUIZcAn.js","sources":["../../src/languages/Monopoly.ts","../../src/Monopoly/Initialization.ts","../../src/Monopoly/Classes.ts","../../src/Monopoly/Main.ts"],"sourcesContent":["import { element } from \"../JSTools\";\n\nfunction setLanguage(language: \"en\" | \"pt\") {\n  const canvas = (window as any).globals.canvas;\n  \n  switch (language) {\n  case \"en\":\n    document.cookie = \"language=\" + language + \"; expires=Thu, 01 Jan 2040 00:00:00 UTC; path=/;\";\n    document.title = \"Monopoly\";\n    canvas.innerHTML = \"Your browser doesn't support the HTML5 canvas tag.\";\n    element(\"backToIndex\")!.innerHTML = \"Back\";\n    element(\"reloadButton\")!.innerHTML = \"Reload\";\n    break;\n  default:\n    document.cookie = \"language=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n    localStorage.removeItem(\"language\");\n    document.title = \"Monopólio\";\n    canvas.innerHTML = \"O teu browser não suporta a tag canvas do HTML5.\";\n    element(\"backToIndex\")!.innerHTML = \"Voltar\";\n    element(\"reloadButton\")!.innerHTML = \"Recarregar\";\n    break;\n  }\n}\n\nexport { setLanguage };","import { Place } from \"./Classes\";\nimport { element, resizeCanvas, getCookie, backToIndex } from \"../JSTools\";\nimport { setLanguage } from \"../languages/Monopoly\";\nimport '../globals';\n\n// <select> ONLOAD=\nvar dropdownLanguage = element('dropdownLanguage') as HTMLSelectElement;\nif (getCookie('language') != undefined && getCookie('language') != '') {\n  dropdownLanguage.value = getCookie('language');\n} else {\n  dropdownLanguage.value = 'pt';\n}\n\nconst canvas = element(\"canvas\") as HTMLCanvasElement;\nif (canvas == null) {\n  throw new Error(\"Canvas is null.\");\n}\n(window as any).globals.canvas = canvas;\n\ndocument.body.onresize = resizeCanvas;\nif (document.readyState === \"loading\") {\n  // Loading hasn't finished yet\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    resizeCanvas();\n    setLanguage(getCookie(\"language\") as \"pt\" | \"en\");\n  });\n} else {\n  // `DOMContentLoaded` has already fired\n  resizeCanvas();\n  setLanguage(getCookie(\"language\") as \"pt\" | \"en\");\n}\n\n//toolBar\nelement(\"backToIndex\")!.onclick = backToIndex;\nelement('reloadButton')!.onclick = () =>\n  (location.reload as (forceGet: boolean) => void)(true);\ndropdownLanguage.onchange = () => setLanguage(dropdownLanguage.value as \"pt\" | \"en\");\n\nconst ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\nif (ctx == null) {\n  throw new Error(\"Canvas context is null.\");\n}\nconst canvasPadding = 10;\nresizeCanvas();\nconst places: Place[] = [];\n\nexport { canvasPadding, places };\n\n","import { Rectangle } from \"../JSTools\";\n\nclass Place extends Rectangle {\n  type: string;\n  price: number;\n  constructor(x: number, y: number, width: number, height: number, type: string) {\n    super(x, y, width, height); //Inherit from Rectangle\n    this.type = type;\n    this.price = 20;\n  }\n}\n\nclass JSWindow extends Rectangle {\n  name: string;\n  color: string;\n  visible: boolean;\n  constructor(x: number, y: number, width: number, height: number, name: string) {\n    super(x, y, width, height); //Inherit from Rectangle\n    this.name = name;\n    this.color = 'grey';\n    this.visible = false;\n  }\n  \n  show() {\n    this.y = -this.height - this.outlineWidth*2;\n    for (let i = 0; i < (this.initY - this.y) * 100; i+=1) {\n      this.y += 1/100;\n    }\n  }\n}\n\nexport { Place, JSWindow };","import { canvasPadding, places } from './Initialization';\nimport { Place, JSWindow } from './Classes';\nimport { AnimationLOOP, Control, Rectangle } from '../JSTools';\n\nconst canvas = (window as any).globals.canvas;\n\nvar gameBoard = new Rectangle(canvasPadding, canvasPadding, canvas.width-canvasPadding*2, canvas.height-canvasPadding*2);\ngameBoard.doTranslate = true; //Space 980x980\ngameBoard.color = \"#B0B3B7\";\ngameBoard.outlinePosition = \"outer\";\ngameBoard.showIndex = 1;\n\n\nconst startWindow = new JSWindow(20,20,gameBoard.width-40,gameBoard.height-40,\"Start Window\");\nstartWindow.visible = true;\nstartWindow.color = \"#263599\";\nstartWindow.showIndex = 100;\n\nvar pathWidth = 195*canvas.width/1000;\nvar normalPlacesStep = (gameBoard.width-pathWidth*2)/5;\n\nfor (let i = 0; i < 24; i++) { //Creating and Moving Places\n  switch (true) { //Places are 100x195\n  //Corner Places\n  case (i==0):\n    places[i] = new Place(gameBoard.width-pathWidth, gameBoard.height-pathWidth, pathWidth, pathWidth, \"cornerA\");\n    places[i].color = \"#FF793F\";\n    break;\n  case (i==6):\n    places[i] = new Place(0, gameBoard.height-pathWidth, pathWidth, pathWidth, \"cornerB\");\n    places[i].color = \"#FF793F\";\n    break;\n  case (i==12):\n    places[i] = new Place(0, 0, pathWidth, pathWidth, \"cornerC\");\n    places[i].color = \"#FF793F\";\n    break;\n  case (i==18):\n    places[i] = new Place(gameBoard.width-pathWidth, 0, pathWidth, pathWidth, \"cornerD\");\n    places[i].color = \"#FF793F\";\n    break;\n  //Normal Places\n  case (i>=1&&i<=5):\n    places[i] = new Place(gameBoard.width-pathWidth-normalPlacesStep*(i%6), gameBoard.height-pathWidth, normalPlacesStep, pathWidth, \"normalA\"+(i%6));\n    places[i].color = \"#95CCF9\";\n    break;\n  case (i>=7&&i<=11):\n    places[i] = new Place(0, gameBoard.height-pathWidth-normalPlacesStep*(i%6), pathWidth, normalPlacesStep, \"normalB\"+(i%6));\n    places[i].color = \"#95CCF9\";\n    break;\n  case (i>=13&&i<=17):\n    places[i] = new Place(pathWidth+normalPlacesStep*((i%6)-1), 0, normalPlacesStep, pathWidth, \"normalC\"+(i%6));\n    places[i].color = \"#95CCF9\";\n    break;\n  case (i>=19&&i<=23):\n    places[i] = new Place(gameBoard.width-pathWidth, pathWidth+normalPlacesStep*((i%6)-1), pathWidth, normalPlacesStep, \"normalD\"+(i%6));\n    places[i].color = \"#95CCF9\";\n    break;\n  }\n  places[i].showIndex = 50;\n  places[i].outlinePosition = \"center\";\n}\n\nAnimationLOOP(function(){\n  //  gameBoard.draw();\n  const controls = Control.getAllInstances().sort((a, b) => a.showIndex - b.showIndex);\n  for (let i=0; i<controls.length;i++) {\n    controls[i].draw();\n  }\n  // for (let i=0;i<places.length;i++) {\n  //   places[i].draw();\n  // }\n  // var windows = JSWindow.getAllInstances().sort(function(a,b){return a.showIndex-b.showIndex});\n  // for (let i=0;i<windows.length;i++) {\n  //   windows[i].draw();\n  // }\n});"],"names":["setLanguage","language","canvas","element","dropdownLanguage","getCookie","resizeCanvas","backToIndex","ctx","canvasPadding","places","Place","Rectangle","x","y","width","height","type","__publicField","JSWindow","name","i","gameBoard","startWindow","pathWidth","normalPlacesStep","AnimationLOOP","controls","Control","a","b"],"mappings":"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"}