var H=Object.defineProperty;var T=(t,i,n)=>i in t?H(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n;var r=(t,i,n)=>T(t,typeof i!="symbol"?i+"":i,n);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&h(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function h(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function b(t){switch(t){case"en":document.cookie="language="+t+"; expires=Thu, 01 Jan 2040 00:00:00 UTC; path=/;",document.title="Monopoly",a.innerHTML="Your browser doesn't support the HTML5 canvas tag.",d("backToIndex").innerHTML="Back",d("reloadButton").innerHTML="Reload";break;default:document.cookie="language=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.removeItem("language"),document.title="Monopólio",a.innerHTML="O teu browser não suporta a tag canvas do HTML5.",d("backToIndex").innerHTML="Voltar",d("reloadButton").innerHTML="Recarregar";break}}window.globals={windowRatio:void 0,canvasRatio:void 0,toolBarHeight:27,canvasScale:void 0};var w=d("dropdownLanguage");g("language")!=null&&g("language")!=""?w.value=g("language"):w.value="pt";const a=d("canvas");if(a==null)throw new Error("Canvas is null.");document.body.onresize=f;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",f):f();d("backToIndex").onclick=C;d("reloadButton").onclick=()=>location.reload(!0);w.onchange=()=>b(w.value);const e=a.getContext("2d");if(e==null)throw new Error("Canvas context is null.");const W=10;f();const P=[];b(g("language"));function C(){var t=location.href;location.href=t.slice(0,t.lastIndexOf("/"))+"/index.html"}function d(t){return document.getElementById(t)}function f(){window.globals.windowRatio=window.innerWidth/(window.innerHeight-window.globals.toolBarHeight),window.globals.canvasRatio=a.width/a.height,window.globals.canvasRatio>window.globals.windowRatio?(a.style.width=window.innerWidth+"px",a.style.height="",a.style.left="0px",a.style.top=(window.innerHeight-window.globals.toolBarHeight)/2-window.innerWidth/window.globals.canvasRatio/2+window.globals.toolBarHeight+"px",window.globals.canvasScale=Number(a.style.width.replace("px",""))/a.width):window.globals.canvasRatio<=window.globals.windowRatio&&(a.style.width="",a.style.height=window.innerHeight-window.globals.toolBarHeight+"px",a.style.left=window.innerWidth/2-(window.innerHeight-window.globals.toolBarHeight)*window.globals.canvasRatio/2+"px",a.style.top=window.globals.toolBarHeight+"px",window.globals.canvasScale=Number(a.style.height.replace("px",""))/a.height)}function A(t,i,n,h){var s=t-n,o=i-h;return Math.sqrt(Math.abs(s*s+o*o))}function S(t){var i=document.createElement("iframe");i.height="0px",i.width="0px",i.src=t,document.body.appendChild(i),setTimeout(function(){L(i)},1e4)}function L(t){t.parentNode.removeChild(t)}function g(t){for(var i=t+"=",n=decodeURIComponent(document.cookie),h=n.split(";"),s=0;s<h.length;s++){for(var o=h[s];o.charAt(0)==" ";)o=o.substring(1);if(o.indexOf(i)==0)return o.substring(i.length,o.length)}return""}Function.prototype.getAllInstances=function(){var t=[];for(let i in window)window[i]instanceof this&&t.push(window[i]);return t};Object.prototype.getAllProperties=function(){var t=[];for(let i in this)!this[i].toString().includes("getAllInstances")&&!this[i].toString().includes("getAllProperties")&&t.push(this[i]);return t};Array.prototype.getControlByName=function(t){return this.find(function(i){return i.name.toLowerCase()==t.toLowerCase()})};var m=!1,x;function R(t){m||(x=t,m=!0),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,a.width,a.height),x(),requestAnimationFrame(R)}var v="rgba(0,0,0,0)";class p{constructor(i,n){r(this,"x");r(this,"y");r(this,"initX");r(this,"initY");r(this,"color");r(this,"outlineColor");r(this,"outlineWidth");r(this,"visible");r(this,"showIndex");this.x=i,this.y=n,this.initX=i,this.initY=n,this.color=v,this.outlineColor="black",this.outlineWidth=2,this.visible=!0,this.showIndex=0,window[this.constructor.name+Math.random()*10**18]=this}show(){this.visible=!0}hide(){this.visible=!1}}class y extends p{constructor(n,h,s,o){super(n,h);r(this,"width");r(this,"height");r(this,"outlinePosition");r(this,"doTranslate");r(this,"doPattern");this.width=s,this.height=o,this.outlineWidth=4,this.outlinePosition="center",this.doTranslate=!1,this.doPattern=""}draw(){this.visible&&(e.fillStyle=this.color,e.strokeStyle=this.outlineColor,e.lineWidth=this.outlineWidth,e.fillRect(this.x,this.y,this.width,this.height),this.drawParts_outline(),this.drawParts_patterns(),this.doTranslate&&e.translate(this.x,this.y))}drawParts_outline(){switch(this.outlinePosition.toLowerCase()){case"inner":e.strokeRect(this.x+this.outlineWidth/2,this.y+this.outlineWidth/2,this.width-this.outlineWidth,this.height-this.outlineWidth);break;case"center":e.strokeRect(this.x,this.y,this.width,this.height);break;case"outer":e.strokeRect(this.x-this.outlineWidth/2,this.y-this.outlineWidth/2,this.width+this.outlineWidth,this.height+this.outlineWidth);break}}drawParts_patterns(){switch(this.doPattern.toLowerCase()){case"diagonals":e.beginPath();for(var n=this.x,h=this.y,s=this.x,o=this.y,u=6,l=0;n!=this.x+this.width;)n++,o++,l++,l==u&&(l=0,e.moveTo(n,h),e.lineTo(s,o));for(;o!=this.y+this.height;)h++,o++,l++,l==u&&(l=0,e.moveTo(n,h),e.lineTo(s,o));for(;h!=this.y+this.height;)h++,s++,l++,l==u&&(l=0,e.moveTo(n,h),e.lineTo(s,o));e.stroke(),this.x=this.initX,this.y=this.initY;break}}}class M extends p{constructor(n,h,s){super(n,h);r(this,"radius");this.radius=s}draw(){this.visible&&(e.beginPath(),e.fillStyle=this.color,e.strokeStyle=this.outlineColor,e.lineWidth=this.outlineWidth,e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.fill(),e.stroke())}goTo(n,h){this.x=n+this.radius,this.y=h+this.radius}}class k extends p{constructor(n,h,s,o){super(n,h);r(this,"text");r(this,"textHeight");r(this,"fontFamily");r(this,"xAlign");r(this,"yAlign");this.text=s,this.color="white",this.outlineColor=v,this.textHeight=30,this.fontFamily="Tahoma",this.xAlign=o,this.yAlign="middle"}updateContext(){this.visible&&(e.fillStyle=this.color,e.textAlign=this.xAlign,e.textBaseline=this.yAlign,e.strokeStyle=this.outlineColor,e.lineWidth=this.outlineWidth,e.font="bold "+this.textHeight+"px "+this.fontFamily)}draw(){this.visible&&(e.strokeText(this.text,this.x,this.y),e.fillText(this.text,this.x,this.y))}updateLanguage(){this.text="<!ERROR!>"}}function c(t,i,n,h,s){y.call(this,t,i,50,81),this.label=new k(t,i,s,"center"),this.label.outlineWidth=6,this.label.outlineColor="black",this.autoResize="true",this.color="#3e7fe8"}c.prototype=Object.create(y.prototype);c.prototype.constructor=c;c.prototype.draw=function(){if(this.visible){e.fillStyle=this.color,e.lineWidth=this.outlineWidth,e.strokeStyle=this.outlineColor;var t=e.measureText(this.label.text).width,i=this.label.textHeight;this.autoResize&&(this.width<t&&(this.width=t),this.height<i&&(this.height=i+20)),this.initX=this.x,this.initY=this.y,this.x=this.initX-this.width/2,this.y=this.initY-this.height/2,e.fillRect(this.x,this.y,this.width,this.height),this.drawParts_outline(),this.x=this.initX,this.y=this.initY,this.label.x=this.x,this.label.y=this.y,this.label.draw()}};c.prototype.onhover=function(){if(this.xAlign=="center")var t=mouseX>this.x-e.measureText(this.text).width/2-this.hoveringHeightIncrement,i=mouseX<this.x+e.measureText(this.text).width/2+this.hoveringHeightIncrement,n=mouseY>this.y-this.textHeight/2-this.hoveringHeightIncrement,h=mouseY<this.y+this.textHeight/2+this.hoveringHeightIncrement;else if(this.xAlign=="start")var t=mouseX>this.x-this.hoveringHeightIncrement,i=mouseX<this.x+e.measureText(this.text).width+this.hoveringHeightIncrement,n=mouseY>this.y-this.textHeight/2-this.hoveringHeightIncrement,h=mouseY<this.y+this.textHeight/2+this.hoveringHeightIncrement;this.internal_hovered=t&&i&&n&&h,this.internal_hovered?(this.internal_mouseEnter||(this.internal_mouseEnter=!0,this.textHeight+=this.hoveringHeightIncrement),this.internal_mouseLeave=!1,this.outlineColor="black"):(this.internal_mouseLeave||(this.internal_mouseLeave=!0,this.textHeight-=this.hoveringHeightIncrement),this.internal_mouseEnter=!1,this.internal_waitingForRelease=!1,this.outlineColor=v)};export{R as A,p as C,k as L,y as R,a,C as b,W as c,S as d,d as e,A as f,g,M as h,P as p,f as r,v as t};
//# sourceMappingURL=JSTools-DrLyDRdD.js.map
